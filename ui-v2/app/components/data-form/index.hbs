<DataLoader @items={{this.item}} @src={{uri this.nspace this.dc this.type this.src}} @onchange={{action "setData"}} @once={{true}}>
  <BlockSlot @name="loaded">

    <DataWriter
      @sink={{uri this.nspace (or this.data.Datacenter this.dc) this.type}}
      @type={{this.type}}
      @label={{this.label}}
      @ondelete={{action this.ondelete}}
      @onchange={{action this.onsubmit}}
      as |writer|>

{{#let (hash
  data=this.data
  change=(action "change")
  isCreate=this.create
  error=writer.error
  disabled=writer.inflight
  submit=(action writer.persist this.data)
  delete=(action writer.delete this.data)
) as |api|}}

      {{yield api}}
    {{#if this.hasError}}
      <BlockSlot @name="error">
        <YieldSlot @name="error">
          {{yield api}}
        </YieldSlot>
      </BlockSlot>
    {{/if}}

      <BlockSlot @name="content">
        <YieldSlot @name="form">
          {{yield api}}
        </YieldSlot>
      </BlockSlot>

{{/let}}

    </DataWriter>

  </BlockSlot>
</DataLoader>